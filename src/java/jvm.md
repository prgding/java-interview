---
order: 2
---

# JVM

## 运行时数据区域

 

## 垃圾回收机制

### 对象什么时候被回收

1. 对于引用计数法，对象的引用计数为 0 时被回收，但是难以解决循环引用问题。
2. 对于可达性分析法，当对象与 GC Roots 没有关联时会被回收。

### 垃圾回收算法

1. 标记 - 清除
    1. 使用可达性分析标记出存活对象，然后把其他的回收掉
    2. 缺点是会产生不连续的内存碎片
2. 复制
    1. 将内存分为两块，回收时将存活对象复制到另一块，然后把原来的空间清空。
    2. 缺点是内存缩小为原来的一半，且存活数量大时，复制性能差
3. 标记 - 整理
    1. 使用可达性分析标记存活
    2. 存活对象向一端移动，清理边界以外的内存